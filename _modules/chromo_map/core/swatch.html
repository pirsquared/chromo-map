

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>chromo_map.core.swatch &mdash; chromo_map 0.1.15 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=8fdb1ddc" />

  
    <link rel="shortcut icon" href="../../../_static/pirr_logo.svg"/>
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=e2f3408e"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../_static/copybutton.js?v=f281be69"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../../../about.html" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            chromo_map
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">API Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/core.html">Core Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/accessibility.html">Accessibility Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/analysis.html">Analysis Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/catalog.html">Catalog Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/utilities.html">Utility Functions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../guides/basic_usage.html">Basic Usage Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guides/accessibility.html">Accessibility Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guides/color_theory.html">Color Theory Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Interactive Examples:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/jupyter_integration.html">Jupyter Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/gallery.html">Example Gallery</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Visual Catalogs:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../catalog_visual.html">Visual Color Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../catalog_plotly.html">Plotly Color Scales</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../catalog_matplotlib.html">Matplotlib Colormaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../catalog_palettable.html">Palettable Palettes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../phase5_documentation.html">Comprehensive Documentation for chromo-map Phase 5</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">chromo_map</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">chromo_map.core.swatch</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for chromo_map.core.swatch</h1><div class="highlight"><pre>
<span></span><span class="c1"># mypy: ignore-errors</span>
<span class="sd">&quot;&quot;&quot;Swatch class for chromo_map package.&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">uuid</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">textwrap</span><span class="w"> </span><span class="kn">import</span> <span class="n">dedent</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">TYPE_CHECKING</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">HTML</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">jinja2</span><span class="w"> </span><span class="kn">import</span> <span class="n">Template</span>

<span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">chromo_map.core.color</span><span class="w"> </span><span class="kn">import</span> <span class="n">Color</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">chromo_map.core.gradient</span><span class="w"> </span><span class="kn">import</span> <span class="n">Gradient</span>
<span class="k">else</span><span class="p">:</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">chromo_map.core.color</span><span class="w"> </span><span class="kn">import</span> <span class="n">Color</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">chromo_map.core.gradient</span><span class="w"> </span><span class="kn">import</span> <span class="n">Gradient</span>


<div class="viewcode-block" id="Swatch">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Swatch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A class for representing a collection of gradients.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="Swatch.__init__">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.__init__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gradients</span><span class="p">,</span> <span class="n">maxn</span><span class="o">=</span><span class="mi">32</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxn</span> <span class="o">=</span> <span class="n">maxn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">gradients</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">colors</span> <span class="ow">in</span> <span class="n">gradients</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Gradient</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">))</span>
                <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">e</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">gradients</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">gradients</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Gradients must be a dict or list of Gradient objects&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Swatch.to_dict">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.to_dict">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert to a dictionary of gradient names to colors.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">gradient</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">gradient</span><span class="o">.</span><span class="n">colors</span> <span class="k">for</span> <span class="n">gradient</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span><span class="p">}</span></div>


<div class="viewcode-block" id="Swatch.__iter__">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.__iter__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Iterate over gradients.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gradients</span><span class="p">)</span></div>


<div class="viewcode-block" id="Swatch.__len__">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.__len__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the number of gradients.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gradients</span><span class="p">)</span></div>


<div class="viewcode-block" id="Swatch.with_max">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.with_max">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">with_max</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">maxn</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a new Swatch with a different maximum number of gradients.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Swatch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gradients</span><span class="p">,</span> <span class="n">maxn</span><span class="o">=</span><span class="n">maxn</span><span class="p">)</span></div>


<div class="viewcode-block" id="Swatch.to_grid">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.to_grid">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_grid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">as_png</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the swatch to an HTML grid.&quot;&quot;&quot;</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gradients</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="n">template</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span>
            <span class="n">dedent</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;\</span>
<span class="sd">            &lt;div id=&quot;_{{ random_id }}&quot; class=&quot;color-swatch&quot;&gt;</span>
<span class="sd">                &lt;style&gt;</span>
<span class="sd">                    #_{{ random_id }} {</span>
<span class="sd">                        display: grid;</span>
<span class="sd">                        grid-template-columns: repeat(auto-fill, minmax(10rem, 1fr));</span>
<span class="sd">                        gap: 0.5rem 1rem;</span>
<span class="sd">                        justify-content: space-between;</span>
<span class="sd">                        overflow: hidden;</span>
<span class="sd">                        resize: both;</span>
<span class="sd">                        width: min(65rem, 100%);</span>
<span class="sd">                    }</span>
<span class="sd">                    #_{{ random_id }} div {</span>
<span class="sd">                        width: 100%;</span>
<span class="sd">                    }</span>
<span class="sd">                    #_{{ random_id }} &gt; div.gradient {</span>
<span class="sd">                        width: 100%;</span>
<span class="sd">                        height: min(4rem, 100%);</span>
<span class="sd">                        display: grid;</span>
<span class="sd">                        gap: 0.2rem;</span>
<span class="sd">                        grid-template-rows: 1rem auto;</span>
<span class="sd">                    }</span>
<span class="sd">                    #_{{ random_id }} .color {</span>
<span class="sd">                        height: minmax(1.5rem, 100%);</span>
<span class="sd">                    }</span>
<span class="sd">                    #_{{ random_id }} &gt; div.gradient &gt; strong {</span>
<span class="sd">                        margin: 0;</span>
<span class="sd">                        padding: 0;</span>
<span class="sd">                    }</span>
<span class="sd">                    #_{{ random_id }} img {height: 100%;}</span>
<span class="sd">                &lt;/style&gt;</span>
<span class="sd">                {% for gradient in gradients %}</span>
<span class="sd">                    {{ gradient.to_div(maxn, as_png=as_png).data }}</span>
<span class="sd">                {% endfor %}</span>
<span class="sd">            &lt;/div&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">random_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span><span class="o">.</span><span class="n">hex</span>
        <span class="k">return</span> <span class="n">HTML</span><span class="p">(</span>
            <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
                <span class="n">gradients</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">gradients</span><span class="p">,</span>
                <span class="n">random_id</span><span class="o">=</span><span class="n">random_id</span><span class="p">,</span>
                <span class="n">maxn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">maxn</span><span class="p">,</span>
                <span class="n">as_png</span><span class="o">=</span><span class="n">as_png</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Swatch.append">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.append">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gradient</span><span class="p">:</span> <span class="s2">&quot;Gradient&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Append a new gradient to the swatch.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        gradient : Gradient</span>
<span class="sd">            The gradient to append.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Append a new gradient to the swatch:</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            swatch = Swatch([])</span>
<span class="sd">            swatch.append(Gradient([&#39;#ff0000&#39;, &#39;#00ff00&#39;, &#39;#0000ff&#39;], name=&#39;RGB&#39;))</span>

<span class="sd">        .. html-output::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            swatch = Swatch([])</span>
<span class="sd">            swatch.append(Gradient([&#39;#ff0000&#39;, &#39;#00ff00&#39;, &#39;#0000ff&#39;], name=&#39;RGB&#39;))</span>
<span class="sd">            print(swatch.to_grid().data)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gradient</span><span class="p">)</span></div>


<div class="viewcode-block" id="Swatch.adjust_hue">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.adjust_hue">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">adjust_hue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">degrees</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Swatch&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adjust the hue of all gradients in the swatch.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        degrees : float</span>
<span class="sd">            The number of degrees to adjust the hue by.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Swatch</span>
<span class="sd">            A new swatch with adjusted hue.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Adjust hue by 90 degrees:</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff0000&#39;, &#39;#00ff00&#39;], name=&#39;RedGreen&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            shifted = swatch.adjust_hue(90)</span>
<span class="sd">            shifted</span>

<span class="sd">        .. html-output::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff0000&#39;, &#39;#00ff00&#39;], name=&#39;RedGreen&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            shifted = swatch.adjust_hue(90)</span>
<span class="sd">            print(shifted._repr_html_())</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_gradients</span> <span class="o">=</span> <span class="p">[</span><span class="n">gradient</span><span class="o">.</span><span class="n">adjust_hue</span><span class="p">(</span><span class="n">degrees</span><span class="p">)</span> <span class="k">for</span> <span class="n">gradient</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">Swatch</span><span class="p">(</span><span class="n">new_gradients</span><span class="p">,</span> <span class="n">maxn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">maxn</span><span class="p">)</span></div>


<div class="viewcode-block" id="Swatch.adjust_saturation">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.adjust_saturation">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">adjust_saturation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Swatch&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adjust the saturation of all gradients in the swatch.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        factor : float</span>
<span class="sd">            The factor to multiply saturation by.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Swatch</span>
<span class="sd">            A new swatch with adjusted saturation.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Decrease saturation by 25%:</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff0000&#39;, &#39;#00ff00&#39;], name=&#39;RedGreen&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            desaturated = swatch.adjust_saturation(0.75)</span>
<span class="sd">            desaturated</span>

<span class="sd">        .. html-output::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff0000&#39;, &#39;#00ff00&#39;], name=&#39;RedGreen&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            desaturated = swatch.adjust_saturation(0.75)</span>
<span class="sd">            print(desaturated._repr_html_())</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_gradients</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">gradient</span><span class="o">.</span><span class="n">adjust_saturation</span><span class="p">(</span><span class="n">factor</span><span class="p">)</span> <span class="k">for</span> <span class="n">gradient</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">Swatch</span><span class="p">(</span><span class="n">new_gradients</span><span class="p">,</span> <span class="n">maxn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">maxn</span><span class="p">)</span></div>


<div class="viewcode-block" id="Swatch.adjust_brightness">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.adjust_brightness">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">adjust_brightness</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Swatch&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adjust the brightness of all gradients in the swatch.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        factor : float</span>
<span class="sd">            The factor to multiply brightness by.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Swatch</span>
<span class="sd">            A new swatch with adjusted brightness.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Increase brightness by 10%:</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff0000&#39;, &#39;#00ff00&#39;], name=&#39;RedGreen&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            bright = swatch.adjust_brightness(1.1)</span>
<span class="sd">            bright</span>

<span class="sd">        .. html-output::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff0000&#39;, &#39;#00ff00&#39;], name=&#39;RedGreen&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            bright = swatch.adjust_brightness(1.1)</span>
<span class="sd">            print(bright._repr_html_())</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_gradients</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">gradient</span><span class="o">.</span><span class="n">adjust_brightness</span><span class="p">(</span><span class="n">factor</span><span class="p">)</span> <span class="k">for</span> <span class="n">gradient</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">Swatch</span><span class="p">(</span><span class="n">new_gradients</span><span class="p">,</span> <span class="n">maxn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">maxn</span><span class="p">)</span></div>


<div class="viewcode-block" id="Swatch.adjust_lightness">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.adjust_lightness">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">adjust_lightness</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Swatch&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adjust the lightness of all gradients in the swatch.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        factor : float</span>
<span class="sd">            The factor to multiply lightness by.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Swatch</span>
<span class="sd">            A new swatch with adjusted lightness.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Decrease lightness by 15%:</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff0000&#39;, &#39;#00ff00&#39;], name=&#39;RedGreen&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            dark = swatch.adjust_lightness(0.85)</span>
<span class="sd">            dark</span>

<span class="sd">        .. html-output::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff0000&#39;, &#39;#00ff00&#39;], name=&#39;RedGreen&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            dark = swatch.adjust_lightness(0.85)</span>
<span class="sd">            print(dark._repr_html_())</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_gradients</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">gradient</span><span class="o">.</span><span class="n">adjust_lightness</span><span class="p">(</span><span class="n">factor</span><span class="p">)</span> <span class="k">for</span> <span class="n">gradient</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">Swatch</span><span class="p">(</span><span class="n">new_gradients</span><span class="p">,</span> <span class="n">maxn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">maxn</span><span class="p">)</span></div>


<div class="viewcode-block" id="Swatch.make_accessible">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.make_accessible">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">make_accessible</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">background_color</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Color</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">level</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;AA&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Swatch&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make all gradients in the swatch accessible against a background color.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        background_color : Color or str</span>
<span class="sd">            The background color to ensure accessibility against.</span>
<span class="sd">        level : str, default &#39;AA&#39;</span>
<span class="sd">            The WCAG level to achieve (&#39;AA&#39; or &#39;AAA&#39;).</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Swatch</span>
<span class="sd">            A new swatch with accessible gradients.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Make swatch accessible against white background:</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ffcccc&#39;, &#39;#ccffcc&#39;], name=&#39;Pastels&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            accessible = swatch.make_accessible(&#39;white&#39;)</span>
<span class="sd">            accessible</span>

<span class="sd">        .. html-output::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ffcccc&#39;, &#39;#ccffcc&#39;], name=&#39;Pastels&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            accessible = swatch.make_accessible(&#39;white&#39;)</span>
<span class="sd">            print(accessible._repr_html_())</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_gradients</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">gradient</span><span class="o">.</span><span class="n">make_accessible</span><span class="p">(</span><span class="n">background_color</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">gradient</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">Swatch</span><span class="p">(</span><span class="n">new_gradients</span><span class="p">,</span> <span class="n">maxn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">maxn</span><span class="p">)</span></div>


<div class="viewcode-block" id="Swatch.complementary">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.complementary">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">complementary</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Swatch&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the complementary swatch (all gradients with complementary colors).</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Swatch</span>
<span class="sd">            A new swatch with complementary gradients.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Get complementary swatch:</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff0000&#39;, &#39;#00ff00&#39;], name=&#39;RedGreen&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            complement = swatch.complementary()</span>
<span class="sd">            complement</span>

<span class="sd">        .. html-output::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff0000&#39;, &#39;#00ff00&#39;], name=&#39;RedGreen&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            complement = swatch.complementary()</span>
<span class="sd">            print(complement._repr_html_())</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_gradients</span> <span class="o">=</span> <span class="p">[</span><span class="n">gradient</span><span class="o">.</span><span class="n">complementary</span><span class="p">()</span> <span class="k">for</span> <span class="n">gradient</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">Swatch</span><span class="p">(</span><span class="n">new_gradients</span><span class="p">,</span> <span class="n">maxn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">maxn</span><span class="p">)</span></div>


<div class="viewcode-block" id="Swatch.analyze_contrast">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.analyze_contrast">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">analyze_contrast</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">background_color</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Color</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Analyze contrast ratios of all gradients against a background.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        background_color : Color or str</span>
<span class="sd">            The background color to analyze against.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Dict[str, Any]</span>
<span class="sd">            Dictionary containing contrast analysis results for each gradient.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Analyze contrast against white background:</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#000000&#39;, &#39;#808080&#39;], name=&#39;Darks&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            analysis = swatch.analyze_contrast(&#39;white&#39;)</span>
<span class="sd">            print(f&quot;Gradients analyzed: {len(analysis[&#39;gradients&#39;])}&quot;)</span>

<span class="sd">        .. testoutput::</span>

<span class="sd">            Gradients analyzed: 1</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">background</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">Color</span><span class="p">(</span><span class="n">background_color</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">background_color</span><span class="p">,</span> <span class="n">Color</span><span class="p">)</span>
            <span class="k">else</span> <span class="n">background_color</span>
        <span class="p">)</span>
        <span class="n">gradient_analyses</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">all_contrasts</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">gradient</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span><span class="p">:</span>
            <span class="n">analysis</span> <span class="o">=</span> <span class="n">gradient</span><span class="o">.</span><span class="n">analyze_contrast</span><span class="p">(</span><span class="n">background</span><span class="p">)</span>
            <span class="n">gradient_analyses</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">gradient</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;analysis&quot;</span><span class="p">:</span> <span class="n">analysis</span><span class="p">})</span>
            <span class="n">all_contrasts</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">analysis</span><span class="p">[</span><span class="s2">&quot;contrasts&quot;</span><span class="p">])</span>

        <span class="c1"># Overall statistics</span>
        <span class="n">total_colors</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_contrasts</span><span class="p">)</span>
        <span class="n">accessible_aa</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">all_contrasts</span> <span class="k">if</span> <span class="n">c</span> <span class="o">&gt;=</span> <span class="mf">4.5</span><span class="p">)</span>
        <span class="n">accessible_aaa</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">all_contrasts</span> <span class="k">if</span> <span class="n">c</span> <span class="o">&gt;=</span> <span class="mf">7.0</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;gradients&quot;</span><span class="p">:</span> <span class="n">gradient_analyses</span><span class="p">,</span>
            <span class="s2">&quot;total_colors&quot;</span><span class="p">:</span> <span class="n">total_colors</span><span class="p">,</span>
            <span class="s2">&quot;overall_average_contrast&quot;</span><span class="p">:</span> <span class="p">(</span>
                <span class="nb">sum</span><span class="p">(</span><span class="n">all_contrasts</span><span class="p">)</span> <span class="o">/</span> <span class="n">total_colors</span> <span class="k">if</span> <span class="n">all_contrasts</span> <span class="k">else</span> <span class="mi">0</span>
            <span class="p">),</span>
            <span class="s2">&quot;overall_min_contrast&quot;</span><span class="p">:</span> <span class="nb">min</span><span class="p">(</span><span class="n">all_contrasts</span><span class="p">)</span> <span class="k">if</span> <span class="n">all_contrasts</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;overall_max_contrast&quot;</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="n">all_contrasts</span><span class="p">)</span> <span class="k">if</span> <span class="n">all_contrasts</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;overall_accessible_aa_count&quot;</span><span class="p">:</span> <span class="n">accessible_aa</span><span class="p">,</span>
            <span class="s2">&quot;overall_accessible_aaa_count&quot;</span><span class="p">:</span> <span class="n">accessible_aaa</span><span class="p">,</span>
            <span class="s2">&quot;overall_accessibility_aa_score&quot;</span><span class="p">:</span> <span class="p">(</span>
                <span class="n">accessible_aa</span> <span class="o">/</span> <span class="n">total_colors</span> <span class="k">if</span> <span class="n">total_colors</span> <span class="k">else</span> <span class="mi">0</span>
            <span class="p">),</span>
            <span class="s2">&quot;overall_accessibility_aaa_score&quot;</span><span class="p">:</span> <span class="p">(</span>
                <span class="n">accessible_aaa</span> <span class="o">/</span> <span class="n">total_colors</span> <span class="k">if</span> <span class="n">total_colors</span> <span class="k">else</span> <span class="mi">0</span>
            <span class="p">),</span>
        <span class="p">}</span></div>


<div class="viewcode-block" id="Swatch.find_accessible_version">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.find_accessible_version">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">find_accessible_version</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">background_color</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Color</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">level</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;AA&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Swatch&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Find accessible version of all gradients in the swatch.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        background_color : Color or str</span>
<span class="sd">            The background color to ensure accessibility against.</span>
<span class="sd">        level : str, default &#39;AA&#39;</span>
<span class="sd">            The WCAG level to achieve (&#39;AA&#39; or &#39;AAA&#39;).</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Swatch</span>
<span class="sd">            A new swatch with accessible gradients.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Find accessible version of swatch:</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ffcccc&#39;, &#39;#ccffcc&#39;], name=&#39;Light&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            accessible = swatch.find_accessible_version(&#39;white&#39;)</span>
<span class="sd">            accessible</span>

<span class="sd">        .. html-output::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ffcccc&#39;, &#39;#ccffcc&#39;], name=&#39;Light&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            accessible = swatch.find_accessible_version(&#39;white&#39;)</span>
<span class="sd">            print(accessible._repr_html_())</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_gradients</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">gradient</span><span class="o">.</span><span class="n">find_accessible_version</span><span class="p">(</span><span class="n">background_color</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">gradient</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">Swatch</span><span class="p">(</span><span class="n">new_gradients</span><span class="p">,</span> <span class="n">maxn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">maxn</span><span class="p">)</span></div>


<div class="viewcode-block" id="Swatch.maximize_contrast_iterative">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.maximize_contrast_iterative">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">maximize_contrast_iterative</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">background_color</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Color</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
        <span class="n">level</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;AA&quot;</span><span class="p">,</span>
        <span class="n">adjust_lightness</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">step_size</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
        <span class="n">max_attempts</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Swatch&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Maximize contrast of all gradients using iterative approach.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        background_color : Color or str</span>
<span class="sd">            The background color to maximize contrast against.</span>
<span class="sd">        level : str, default &#39;AA&#39;</span>
<span class="sd">            The WCAG level to achieve (&#39;AA&#39; or &#39;AAA&#39;).</span>
<span class="sd">        adjust_lightness : bool, default True</span>
<span class="sd">            Whether to adjust lightness (True) or brightness/value (False).</span>
<span class="sd">        step_size : float, default 0.1</span>
<span class="sd">            The step size for adjustments.</span>
<span class="sd">        max_attempts : int, default 50</span>
<span class="sd">            Maximum number of adjustment attempts.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Swatch</span>
<span class="sd">            A new swatch with maximized contrast gradients.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Maximize contrast iteratively:</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff6666&#39;, &#39;#66ff66&#39;], name=&#39;Light&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            optimized = swatch.maximize_contrast_iterative(&#39;white&#39;)</span>
<span class="sd">            optimized</span>

<span class="sd">        .. html-output::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff6666&#39;, &#39;#66ff66&#39;], name=&#39;Light&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            optimized = swatch.maximize_contrast_iterative(&#39;white&#39;)</span>
<span class="sd">            print(optimized._repr_html_())</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_gradients</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">gradient</span><span class="o">.</span><span class="n">maximize_contrast_iterative</span><span class="p">(</span>
                <span class="n">background_color</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">adjust_lightness</span><span class="p">,</span> <span class="n">step_size</span><span class="p">,</span> <span class="n">max_attempts</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">gradient</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">Swatch</span><span class="p">(</span><span class="n">new_gradients</span><span class="p">,</span> <span class="n">maxn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">maxn</span><span class="p">)</span></div>


<div class="viewcode-block" id="Swatch.maximize_contrast_binary_search">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.maximize_contrast_binary_search">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">maximize_contrast_binary_search</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">background_color</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Color</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
        <span class="n">level</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;AA&quot;</span><span class="p">,</span>
        <span class="n">adjust_lightness</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">precision</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Swatch&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Maximize contrast of all gradients using binary search.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        background_color : Color or str</span>
<span class="sd">            The background color to maximize contrast against.</span>
<span class="sd">        level : str, default &#39;AA&#39;</span>
<span class="sd">            The WCAG level to achieve (&#39;AA&#39; or &#39;AAA&#39;).</span>
<span class="sd">        adjust_lightness : bool, default True</span>
<span class="sd">            Whether to adjust lightness (True) or brightness/value (False).</span>
<span class="sd">        precision : float, default 0.001</span>
<span class="sd">            The precision for binary search convergence.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Swatch</span>
<span class="sd">            A new swatch with maximized contrast gradients.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Maximize contrast with binary search:</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff6666&#39;, &#39;#66ff66&#39;], name=&#39;Light&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            optimized = swatch.maximize_contrast_binary_search(&#39;white&#39;)</span>
<span class="sd">            optimized</span>

<span class="sd">        .. html-output::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff6666&#39;, &#39;#66ff66&#39;], name=&#39;Light&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            optimized = swatch.maximize_contrast_binary_search(&#39;white&#39;)</span>
<span class="sd">            print(optimized._repr_html_())</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_gradients</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">gradient</span><span class="o">.</span><span class="n">maximize_contrast_binary_search</span><span class="p">(</span>
                <span class="n">background_color</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">adjust_lightness</span><span class="p">,</span> <span class="n">precision</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">gradient</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">Swatch</span><span class="p">(</span><span class="n">new_gradients</span><span class="p">,</span> <span class="n">maxn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">maxn</span><span class="p">)</span></div>


<div class="viewcode-block" id="Swatch.maximize_contrast_optimization">
<a class="viewcode-back" href="../../../api/core.html#chromo_map.Swatch.maximize_contrast_optimization">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">maximize_contrast_optimization</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">background_color</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Color</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
        <span class="n">level</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;AA&quot;</span><span class="p">,</span>
        <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;golden_section&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Swatch&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Maximize contrast of all gradients using mathematical optimization.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        background_color : Color or str</span>
<span class="sd">            The background color to maximize contrast against.</span>
<span class="sd">        level : str, default &#39;AA&#39;</span>
<span class="sd">            The WCAG level to achieve (&#39;AA&#39; or &#39;AAA&#39;).</span>
<span class="sd">        method : str, default &#39;golden_section&#39;</span>
<span class="sd">            The optimization method to use (&#39;golden_section&#39; or &#39;gradient_descent&#39;).</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Swatch</span>
<span class="sd">            A new swatch with maximized contrast gradients.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        Maximize contrast with optimization:</span>

<span class="sd">        .. testcode::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff6666&#39;, &#39;#66ff66&#39;], name=&#39;Light&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            optimized = swatch.maximize_contrast_optimization(&#39;white&#39;)</span>
<span class="sd">            optimized</span>

<span class="sd">        .. html-output::</span>

<span class="sd">            from chromo_map import Swatch, Gradient</span>
<span class="sd">            gradients = [Gradient([&#39;#ff6666&#39;, &#39;#66ff66&#39;], name=&#39;Light&#39;)]</span>
<span class="sd">            swatch = Swatch(gradients)</span>
<span class="sd">            optimized = swatch.maximize_contrast_optimization(&#39;white&#39;)</span>
<span class="sd">            print(optimized._repr_html_())</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_gradients</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">gradient</span><span class="o">.</span><span class="n">maximize_contrast_optimization</span><span class="p">(</span><span class="n">background_color</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">gradient</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gradients</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">Swatch</span><span class="p">(</span><span class="n">new_gradients</span><span class="p">,</span> <span class="n">maxn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">maxn</span><span class="p">)</span></div>


    <span class="k">def</span><span class="w"> </span><span class="nf">_repr_html_</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return HTML representation for Jupyter notebook display.&quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_grid</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="p">)</span></div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Sean Smith.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>